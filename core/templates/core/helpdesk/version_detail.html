{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" type="text/css" href="{% static 'css/version_detail.css' %}">
{% endblock %}

{% block title %}Version Detail{% endblock %}

{% block content %}

<div class="page-container detail-page-container">
  <h2 class="detail-header">ðŸ§¾ Version Details</h2>

  <div class="version-details-card">
    <table class="version-detail-table">
      <!-- Your table rows go here -->
      <tr>
        <th>Terminal</th>
        <td>{{ version.terminal }}</td>
      </tr>
      <tr>
        <th>Manufacturer</th>
        <td>{{ version.manufacturer }}</td>
      </tr>
      

      <tr>
        <th>Template</th>
        <td>{{ version.template }}</td>
      </tr>
      <tr>
        <th>Firmware</th>
        <td>{{ version.firmware }}</td>
      </tr>
      <th>XFS</th>
        <td>{{ version.xfs }}</td>
      </tr>
      <tr> <!-- Add this -->
        <th>BRITS</th>
        <td>{{ version.brits}}</td>
      </tr>
      <tr>
        <th>Ejournal</th>
        <td>{{ version.ejournal }}</td>
      </tr>
      <tr>
        <th>Responsible</th>
        <td>{{ version.responsible }}</td>
      </tr>
      <tr>
        <th>App Version</th>
        <td>{{ version.app_version }}</td>
      </tr>
      <tr> <!-- Add this -->
        <th>Neo Atm</th>
        <td>{{ version.neo_atm }}</td>
      </tr>
      <tr>
        <th>Created At</th>
        <td>{{ version.created_at }}</td>
      </tr>
    </table>
  </div>

  <div class="comments-section">
    <h4 class="comments-header">Add a Comment</h4>
    <form method="post" class="comment-form">
      {% csrf_token %}
      <div class="form-group">
        <textarea name="comment" class="form-control" rows="4" placeholder="Write a comment..."></textarea>
      </div>
      <button type="submit" class="btn btn-primary comment-submit-btn">Add Comment</button>
    </form>

    <hr class="comments-divider">

    <h4 class="comments-header">Previous Comments</h4>
    {% if comments %}
      <ul class="comments-list">
        {% for comment in comments %}
          <li class="comment-item">
            <p>{{ comment.text }}</p>
            <small class="comment-meta">{{ comment.created|date:"M d, Y H:i" }}</small>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="no-comments">No comments yet.</p>
    {% endif %}
  </div>

  <div class="action-buttons">
    <a href="{% url 'edit_version' version.pk %}" class="btn btn-warning action-btn">Edit</a>
    <a href="{% url 'delete_version' version.pk %}" class="btn btn-danger action-btn" onclick="return confirm('Are you sure you want to delete this version?');">Delete</a>
    <a href="{% url 'version_controls' %}" class="btn btn-secondary action-btn">Back</a>
  </div>
</div>

{% endblock %}